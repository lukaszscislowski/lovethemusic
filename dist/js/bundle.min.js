!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";function o(){var e=document.querySelector(".page-header");this.pageYOffset>=100?e.classList.add("sticky"):e.classList.remove("sticky")}t.r(n);$(function(){var e=$("form input[required], form textarea[required], select[required]");console.log(e);var n=function(e){var n=e.closest(".form-row").find(".field-error");n.length&&n.remove()};e.on("input keyup",function(){var e=$(this);e.get(0).checkValidity()?(e.removeClass("error"),n(e)):e.addClass("error")}),e.filter(":checkbox").on("click",function(){var e=$(this);$(this).closest(".form-row");e.is(":checked")?(e.removeClass("error"),n(e)):e.addClass("error")});var t=function(e){var t=!0;return e.each(function(e,o){var r=$(o);o.checkValidity()?(n(r),r.removeClass("error")):(!function(e){var n=e.closest(".form-row");if(!n.find(".field-error").length){var t=e.attr("data-error"),o=$('<div class="field-error">'+t+"</div>");n.append(o)}}(r),r.addClass("error"),t=!1)}),t};$(".form").on("submit",function(n){n.preventDefault();var o=$(this);if(t(e)){var r=o.serializeArray(),i=o.find("input:submit");i.prop("disabled",1),i.addClass("element-is-busy"),o.find(".send-error").remove(),$.ajax({url:o.attr("action"),method:o.attr("method"),dataType:"json",data:r,success:function(e){e.errors?(e.errors.map(function(e){return'[name="'+e+'"]'}),t(o.find(e.errors.join(",")))):("ok"==e.status&&o.replaceWith('<div class="form-send-success"><strong>Wiadomość została wysłana</strong><span>Dziękujemy za kontakt. Postaramy się odpowiedzieć jak najszybciej</span></div>'),"error"==e.status&&i.after('<div class="send-error">Wysłanie wiadomości się nie powiodło</div>'))},error:function(e){console.error("Wystąpił błąd z połączeniem")},complete:function(){i.prop("disabled",0),i.removeClass("element-is-busy")}})}})});!function(){var e=null,n=[],t=null,o=[],r=!1,i=3e3,a=[];function s(n){var o={url:n.iconUrl,size:new google.maps.Size(39,36),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(20,31),labelOrigin:new google.maps.Point(19,15)},r=new MarkerWithLabel({color:"#fff",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",text:""+n.text}),i=new google.maps.Marker({position:new google.maps.LatLng(n.lat,n.lng),icon:o,map:e,shape:{coords:[1,1,1,20,18,20,18,1],type:"poly"},label:r,labelOrigin:new google.maps.Point(26.5,20),zIndex:1});return i.txt="Godzina:<br />"+n.time+"<br />"+n.lat+"-"+n.lng,google.maps.event.addListener(i,"click",function(){t.setPosition(i.getPosition()),t.setContent(i.txt),t.open(e)}),i}function l(){$.when(function(){var e=jQuery.Deferred(),t=[];return $.ajax({type:"GET",url:"generate_coords.php",dataType:"json",cache:!1,success:function(o){o.data.forEach(function(e,o){n.length&&(!n.length||n[n.length-1].getPosition().lat()===e.lat&&n[n.length-1].getPosition().lng()===e.lng)||t.push({lat:e.lat,lng:e.lng,iconUrl:e.iconUrl,time:e.time,text:n.length+o+1})}),e.resolve(t)},error:function(){e.reject()}}),e.promise()}()).then(function(t){var c;!function(t){var r=[];n.length&&r.push({lat:n[n.length-1].getPosition().lat(),lng:n[n.length-1].getPosition().lng()}),t.forEach(function(e,n){r.push({lat:e.lat,lng:e.lng})});var i=new google.maps.Polyline({path:r,geodesic:!0,strokeColor:"#DB3737",strokeOpacity:.7,strokeWeight:2});i.setMap(e),o.push(i)}(a),a.forEach(function(e,t){var o=s(e);n.push(o)}),n.length&&!r&&(c=new google.maps.LatLngBounds,n.forEach(function(e,n){var t=new google.maps.LatLng(e.getPosition().lat(),e.getPosition().lng());c.extend(t)}),n.length>1&&e.fitBounds(c),e.setCenter(c.getCenter()),n.length>=2&&(r=!0)),setTimeout(function(){l()},i)},function(e){console.warn("Błąd wczytania danych")})}$(function(){var n;n={zoom:10,zoomControl:!0,streetViewControl:!0,mapTypeId:google.maps.MapTypeId.ROADMAP,center:new google.maps.LatLng(52.229676,21.012229),disableDefaultUI:!0},e=new google.maps.Map(document.getElementById("map"),n),t=new google.maps.InfoWindow,l()}),$(".clear-map").on("click",function(e){o.forEach(function(e,n){e.setMap(null)}),o=[],n.forEach(function(e,n){e.setMap(null)}),n=[],r=!1})}(),document.addEventListener("DOMContentLoaded",function(){var e;(e=window.matchMedia("(max-width: 760px)")).matches?window.removeEventListener("scroll",o):window.addEventListener("scroll",o),e.addListener(function(e){e.matches?window.removeEventListener("scroll",o):window.addEventListener("scroll",o)})})}]);
//# sourceMappingURL=bundle.min.js.map