!function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";function n(){var e=document.querySelector(".page-header");this.pageYOffset>=100?e.classList.add("sticky"):e.classList.remove("sticky")}t.r(r),function(){var e=$("form input[required], form textarea[required]"),r=function(e){var r=e.closest(".form-row").find(".field-error");r.length&&r.remove()};e.on("input keyup",function(){var e=$(this);e.get(0).checkValidity()?(e.removeClass("error"),r(e)):e.addClass("error")}),e.filter(":checkbox").on("click",function(){var e=$(this);$(this).closest(".form-row");e.is(":checked")?(e.removeClass("error"),r(e)):e.addClass("error")});var t=function(e){var t=!0;return e.each(function(e,n){var o=$(n);n.checkValidity()?(r(o),o.removeClass("error")):(!function(e){var r=e.closest(".form-row");if(!r.find(".field-error").length){var t=e.attr("data-error"),n=$('<div class="field-error">'+t+"</div>");r.append(n)}}(o),o.addClass("error"),t=!1)}),t};$(".form").on("submit",function(r){r.preventDefault();var n=$(this);if(t(e)){var o=n.serializeArray();o=o.concat(n.find().map(function(){return{name:this.name,value:this.value}}).get());var i=n.find("input:submit");i.prop("disabled",1),i.addClass("element-is-busy"),n.find(".send-error").remove(),$.ajax({url:n.attr("action"),method:n.attr("method"),dataType:"json",data:o,success:function(e){e.errors?(e.errors.map(function(e){return'[name="'+e+'"]'}),t(n.find(e.errors.join(",")))):("ok"==e.status&&n.replaceWith('<div class="form-send-success"><strong>Wiadomość została wysłana</strong><span>Dziękujemy za kontakt. Postaramy się odpowiedzieć jak najszybciej</span></div>'),"error"==e.status&&i.after('<div class="send-error">Wysłanie wiadomości się nie powiodło</div>'))},error:function(e){console.error("Wystąpił błąd z połączeniem")},complete:function(){i.prop("disabled",0),i.removeClass("element-is-busy")}})}})}();document.addEventListener("DOMContentLoaded",function(){var e;(e=window.matchMedia("(max-width: 760px)")).matches?window.removeEventListener("scroll",n):window.addEventListener("scroll",n),e.addListener(function(e){e.matches?window.removeEventListener("scroll",n):window.addEventListener("scroll",n)})})}]);
//# sourceMappingURL=bundle.min.js.map